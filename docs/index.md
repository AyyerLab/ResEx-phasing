---
layout: default
---

# Resolution Extension using Continuous Diffraction

**RES**olution **EX**tension of a protein crystal structure using continuous
diffraction data at higher resolution, where Bragg peaks are no longer visible.

Here you will find usage instructions as well as other information about the
program.

## Background
When crystals are not perfectly ordered, their diffraction produces diffuse
scattering in addition to Bragg peaks. Usually, this effect is more pronounced
at high resolution where often there is enough disorder that Bragg peaks are no
longer visible at all. Conventionally, this is taken to be the resolution limit
of the crystal.

However, if there is correlated disorder, the diffuse scattering also contains
structural information which, in some cases, can be used to obtain a higher
resolution protein structure. This extra information can be invaluable in
answering the fundamental molecular biology questions at hand.

This program takes a low resolution model generated by conventional
crystallography program suites like PHENIX or CCP4 and a volume of diffuse
scattering intensities and generates a higher resolution structure which is
consistent with both the input data sets.

Currently the code works when the disorder is of a certain type, namely a
combination of uncorrelated atomic disorder and rigid body disorder of tha
asymmetric unit. The ability to deal with other forms of disorder like
rotational and liquid-like motion are under development.

 * Ayyer, Kartik, Oleksandr M. Yefanov, Dominik Oberth√ºr, Shatabdi Roy-Chowdhury, Lorenzo Galli, Valerio Mariani, Shibom Basu et al. "Macromolecular diffractive imaging using imperfect crystals." *Nature* **530**, no. 7589 (2016): 202.
 * Chapman, Henry N., Oleksandr M. Yefanov, Kartik Ayyer, Thomas A. White, Anton Barty, Andrew Morgan, Valerio Mariani, Dominik Oberthuer, and Kanupriya Pande. "Continuous diffraction of molecules and disordered molecular crystals." *Journal of applied crystallography* **50**, no. 4 (2017): 1084-1103.

## Installation
There is no real installation process to speak of. Just clone the repository and
compile the C code:
```
$ git clone https://github.com/kartikayyer/bragg-cont.git
$ cd bragg-cont
$ make
```
However, there are a few dependencies:
 * GCC (Other C compilers will also work, with minor modifications to the
 Makefile)
 * GNU Scientific Library (GSL) (for special functions and random number
 generation)
 * FFTW3 (for Fourier transforms. Single precision with threading)
 * python 2.7 (for the GUIs, preferably from Anaconda)
    * numpy
    * matplotlib

## Usage
A quick start page for a basic reconstruction from simulated data can be found
[here]({{ site.baseurl }}{% link sim-tutorial.md %}).

The inputs to the program are a 3D volume of oversampled intensities and a
CCP4/MRC map containing a low-resolution model obtained from the Bragg data.
There are helper scripts to extract this map from the output of a PHENIX run
(CCP4 support coming soon).

